import requests

def get_public_ip():
    try:
        # Make a request to httpbin to get the public IP address
        response = requests.get("https://httpbin.org/ip")
        ip_data = response.json()
        public_ip = ip_data.get("origin", "Unknown")
        return public_ip
    except Exception as e:
        print(f"Error retrieving public IP: {e}")
        return None

import platform
import socket

# Operating System information
os_name = platform.system()
os_version = platform.version()

# Network information
hostname = socket.gethostname()
local_ip = socket.gethostbyname(hostname)

public_ip = get_public_ip()

with open("sysinfo.txt", "w") as sysinfodoc:
	sysinfodoc.write(f"os name - {os_name} \n")
	sysinfodoc.write(f"os version - {os_version} \n")
	sysinfodoc.write(f"hostname - {hostname} \n")
	sysinfodoc.write(f"local ip - {local_ip} \n")
	sysinfodoc.write(f"public ip - {public_ip} \n")
